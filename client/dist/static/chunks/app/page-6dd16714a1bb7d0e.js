(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2363:function(e,t,n){Promise.resolve().then(n.bind(n,8730))},8730:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s=n(7437),a=n(2265),l=e=>{let{connectWallet:t,connected:n,currentAccount:a,disconnectWallet:l}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"w-[full] flex px-5 py-8 justify-between flex-1",children:[n&&a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex items-center bg-violet-600 text-white p-2",children:(0,s.jsx)("p",{className:"text-white",children:a?a.length<=10?a:"".concat(a.substring(0,6),"...").concat(a.substring(a.length-4)):""})}),(0,s.jsx)("div",{className:"flex-1 flex place-content-center  p-2 items-center",children:(0,s.jsxs)("h1",{className:"mb-4 text-3xl font-bold text-white",children:[(0,s.jsx)("span",{className:"animate-pulse text-blue-500",children:"T "}),(0,s.jsx)("span",{className:"animate-pulse text-green-500",children:"D "}),(0,s.jsx)("span",{className:"animate-pulse text-yellow-500",children:"C "})]})})]}),(0,s.jsx)("div",{className:" flex ".concat(n?"place-content-end":"flex-1 place-content-center  md:place-content-end"),children:n?(0,s.jsx)("button",{className:"h-[4rem] text-2xl bg-red-500 hover:bg-red-700 text-white font-bold px-8 rounded-lg transition duration-400 ease-linear",onClick:l,children:"Disconnect"}):(0,s.jsx)("button",{className:"h-[4rem] text-2xl bg-blue-500 hover:bg-blue-700 text-white font-bold px-8 rounded-lg transition duration-400 ease-linear",onClick:t,children:"Connect Wallet"})})]})})},i=n(1399),o=n(784);let c=e=>{let{color:t,title:n,icon:a,subtitle:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col justify-start items-center white-glassmorphism p-10 m-2 cursor-pointer hover:shadow-xl w-full",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-full flex justify-center items-center ".concat(t),children:a}),(0,s.jsxs)("div",{className:"md:ml-0 ml-4 flex flex-col flex-1 p-2 items-center",children:[(0,s.jsx)("h1",{className:"mt-2 text-sky-200 text-2xl items-center",children:n}),(0,s.jsx)("p",{className:"mt-2 text-white text-m md:w-9/12 md:text-center",children:l})]})]})};var r=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h1",{className:"mb-4 text-8xl font-bold text-white text-center",children:[(0,s.jsx)("span",{className:"animate-pulse text-blue-500",children:"To "}),(0,s.jsx)("span",{className:"animate-pulse text-green-500",children:"Do "}),(0,s.jsx)("span",{className:"animate-pulse text-yellow-500",children:"Chain "})]}),(0,s.jsx)("p",{className:"mb-8 text-2xl text-white text-center animate-pulse transition-colors duration-1000 ease-in-out",children:"A decentralized to-do list on Ethereum"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("hr",{className:"my-8 w-1/4 border-b-2 border-gray-300 rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col lg:flex-row justify-start items-center",children:[(0,s.jsx)(c,{color:"bg-[#2F7DC8]",title:"Step 1: Connect your Wallet",icon:(0,s.jsx)(i.OZg,{fontSize:40,className:"text-white"}),subtitle:" Connect your MetaMask wallet to the Ethereum blockchain to access ToDoChain."}),(0,s.jsx)(c,{color:"bg-[#36A65F]",title:"Step 2: Add Tasks",icon:(0,s.jsx)(i.qGN,{fontSize:40,className:"text-white"}),subtitle:"Safely and confidentially add your tasks to the Ethereum blockchain."}),(0,s.jsx)(c,{color:"bg-[#EFB227]",title:"Step 3: Manage your Tasks",icon:(0,s.jsx)(o.xbF,{fontSize:40,className:"text-white"}),subtitle:"Browse your previous tasks or delete them, securely manage your tasks with confidence."})]})]}),d=()=>(0,s.jsx)("footer",{className:"bg-black bg-opacity-50 text-white py-4",children:(0,s.jsx)("div",{className:"container mx-auto text-center",children:(0,s.jsxs)("p",{className:"text-sm",children:["Built by Alexandre BOURDOIS | To Do List on Ethereum | ",new Date().getFullYear()]})})}),x=e=>{let{taskId:t,taskTime:n,taskText:l,deleteTask:o,changeTask:c}=e,r=new Date(1e3*n).toLocaleString(),[d,x]=(0,a.useState)(l),[u,m]=(0,a.useState)(!1);return(0,s.jsx)("div",{className:"flex items-center text-white",children:(0,s.jsx)("div",{className:"bg-[#1d1d2b] text-[#b6c7db] flex w-[70%] rounded-[20px] mb-[2px] flex-1",children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full p-[15px] text-xl",children:[!u&&(0,s.jsx)(i.KHI,{className:"text-2xl cursor-pointer mr-4",onClick:()=>{m(!0)}}),u&&(0,s.jsx)(i.TvB,{onClick:()=>{c(t,d),m(!1)},className:"text-2xl cursor-pointer mr-4"}),u?(0,s.jsx)("input",{type:"text",className:"border-none outline-none bg-transparent text-white w-full",value:d,onChange:e=>x(e.target.value)}):(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{children:l}),(0,s.jsx)("span",{className:"text-xs text-[#6c757d]",children:r})]}),!u&&(0,s.jsx)(i.lp8,{onClick:o,className:"text-3xl cursor-pointer ml-auto"})]})})})},u=e=>{let{tasks:t,input:n,setInput:a,addTask:l,deleteTask:o,changeTask:c}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center pb-10",children:(0,s.jsxs)("div",{className:"w-[70%] bg-[#22223B] py-4 px-9 rounded-[20px]",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold text-[#2F7DC8] pb-8",children:"To Do Chain"}),(0,s.jsxs)("form",{className:"flex items-center justify-center",children:[(0,s.jsx)("input",{className:"rounded-[10px] w-full p-4 border-none outline-none text-[#36A65F]  bg-[#1d1d2b] ",placeholder:"Add a task for today...",value:n,onChange:e=>a(e.target.value)}),(0,s.jsx)(i.EIY,{onClick:l,className:"text-[#EFB227] text-[50px] cursor-pointer ml-[20px] mb-[10px]"})]}),(0,s.jsx)("ul",{className:"pt-10",children:t.map(e=>(0,s.jsx)(x,{taskId:e.id,taskTime:e.timestamp?parseInt(e.timestamp.toString()):null,taskText:e.text,deleteTask:o(e.id),changeTask:c},e.id))})]})})},m=n(5104),p=n(6039),h=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":true,"internalType":"uint256","name":"taskId","type":"uint256"}],"name":"AddTask","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"taskId","type":"uint256"},{"indexed":false,"internalType":"string","name":"newText","type":"string"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"ChangeTask","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"taskId","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isDeleted","type":"bool"}],"name":"DeleteTask","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"taskId","type":"uint256"}],"name":"GetTask","type":"event"},{"inputs":[{"internalType":"string","name":"text","type":"string"}],"name":"addTask","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getTasks","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"text","type":"string"},{"internalType":"bool","name":"isDeleted","type":"bool"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"internalType":"struct TaskContract.Task[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"taskId","type":"uint256"}],"name":"deleteTask","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"taskId","type":"uint256"},{"internalType":"string","name":"newText","type":"string"}],"name":"changeTask","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function y(){let[e,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[x,y]=(0,a.useState)([]),f="0xb30102B55D83B35Bea66AA77B2D20541978Cc0B9";(0,a.useEffect)(()=>{e&&j()},[x]),(0,a.useEffect)(()=>{g()},[]);let g=async()=>{try{let{ethereum:e}=window;if(!e){console.log("Metamask not detected"),alert("MetaMask not detected");return}let n=await e.request({method:"eth_chainId"});console.log("connected to chain:",n);let s="0xaa36a7";n!==s&&await e.request({method:"wallet_switchEthereumChain",params:[{chainId:s}]});let a=await e.request({method:"eth_requestAccounts"});console.log("Found accound",a[0]),t(!0),i(a[0]),j()}catch(e){console.log(e)}},w=async()=>{try{let{ethereum:e}=window;if(!e){console.log("Metamask not detected");return}t(!1),i(null),y([]),console.log("Wallet disconnected")}catch(e){console.log(e)}},b=async e=>{e.preventDefault();let t={taskText:o,isDeleted:!1};try{let{ethereum:e}=window;if(e){let e=new m.Q(window.ethereum),n=await e.getSigner(),s=new p.CH(f,h.Mt,n);console.log("Account:",await n.getAddress()),console.log(h.Mt),s.addTask(t.taskText).then(e=>{y([...x,t]),c(""),console.log("Added task")}).catch(e=>{console.log(e)})}else console.log("ethereum object does not exist")}catch(e){console.log(e)}},j=async()=>{try{let{ethereum:e}=window;if(e){let e=new m.Q(window.ethereum),t=await e.getSigner(),n=new p.CH(f,h.Mt,t),s=await n.getTasks();y([...s].reverse())}else console.log("Ethereum object does not exist")}catch(e){console.log(e)}},k=async(e,t)=>{try{let{ethereum:n}=window;if(n){let n=new m.Q(window.ethereum),s=await n.getSigner(),a=new p.CH(f,h.Mt,s);await a.changeTask(e,t),console.log("Task updated");let l=await a.getTasks();y([...l].reverse())}else console.log("Ethereum object does not exist")}catch(e){console.log(e)}};return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(l,{connectWallet:g,connected:e,currentAccount:n,disconnectWallet:w}),!e&&(0,s.jsx)(r,{}),e&&(0,s.jsx)(u,{tasks:x,input:o,setInput:c,addTask:b,deleteTask:e=>async()=>{try{let{ethereum:t}=window;if(t){let t=new m.Q(window.ethereum),n=await t.getSigner(),s=new p.CH(f,h.Mt,n);await s.deleteTask(e),console.log("Deleted task");let a=await s.getTasks();y([...a].reverse())}else console.log("Ethereum object does not exist")}catch(e){console.log(e)}},changeTask:k})]}),(0,s.jsx)(d,{})]})}}},function(e){e.O(0,[51,699,360,971,69,744],function(){return e(e.s=2363)}),_N_E=e.O()}]);